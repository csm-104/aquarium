C51 COMPILER V9.54   WATER_LEVEL                                                           05/02/2023 15:26:33 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE WATER_LEVEL
OBJECT MODULE PLACED IN .\Objects\Water_Level.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE Water_Level.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings
                    -\Water_Level.lst) OBJECT(.\Objects\Water_Level.obj)

line level    source

   1          #include <REGX52.H>
   2          #include <intrins.h>
   3          #include "Delay.h"
   4          #define Gap_Value 300
   5          
   6          float Pressure;
   7          
   8          sbit ADDO = P1^1;
   9          sbit ADSK = P1^2;
  10          
  11          unsigned long ReadCount(void)
  12          {
  13   1              unsigned long Count;
  14   1              unsigned char i;
  15   1              ADSK=0; 
  16   1              Count=0;
  17   1              while(ADDO); //å½“hx711èŠ¯ç‰‡å‡†å¤‡å¥½åï¼ŒADDOå°†æ‹‰ä½ï¼Œå½“æœªå‡†å¤‡å¥½æ—¶ï¼Œå°†è¾“å‡ºé«˜ç”µå¹³ï¼Œæ­¤
             -æ—¶å°†è®©å®ƒè¿›å…¥å¾ªç¯ï¼ŒçŸ¥é“ADCå‡†å¤‡å¥½ï¼Œæ‰è¿›è¡Œè½¬æ¢
  18   1              for (i=0;i<24;i++)//hx711é€šè¿‡ä¸€æ¬¡é€šä¿¡çš„ä½æ•°æ¥é€‰æ‹©å¢ç›Šå¤§å°ï¼Œæ¬¡æ•°é€‰æ‹©24+1ä½å³25ä½ï¼
             -Œä½¿å¢ç›Šä¸º128
  19   1              {       
  20   2                      ADSK=1; 
  21   2                      Count=Count<<1; //é€šè¿‡ç§»ä½ï¼Œå­˜å‚¨æ•°æ®
  22   2                      ADSK=0;
  23   2                      if(ADDO) Count++;
  24   2              }
  25   1              ADSK=1;
  26   1      //    _nop_();
  27   1          Count=Count^0x800000;
  28   1              ADSK=0;
  29   1              return(Count);
  30   1      }
  31          
  32          
  33          void Get_Pressure(void)
  34          { 
  35   1               Pressure=Pressure/Gap_Value;//æ¨¡æ•°è½¬æ¢ï¼Œç»è¿‡è¿ç®—ï¼Œæƒé‡å€¼çº¦ä¸º300
  36   1      }
  37          
  38          void Check_WaterLevel(void)
  39          {
  40   1          Pressure=ReadCount();
  41   1          Get_Pressure();
  42   1          
  43   1          if(Pressure<37400){P2_4=0;P2_3=1;P2_0=1;}//å½“æ°´ä½ï¼ˆå‹åŠ›ï¼‰ä½äºæœ€å°æ°´ä½æ—¶ï¼Œçº¢ç¯äº®
  44   1          else if(Pressure>=37400&&Pressure<38200){P2_3=0;P2_4=1;P2_0=1;}//å½“æ°´ä½ï¼ˆå‹åŠ›ï¼‰é«˜äºæœ€å°æ°´ä
             -½ï¼Œä½äºæ­£å¸¸æ—¶ï¼Œé»„ç¯äº®      
  45   1          else if(Pressure>=38200)
  46   1          {
  47   2              Pressure=ReadCount();
  48   2              Get_Pressure();
  49   2              if(Pressure>=38200){P2_0=0;P2_3=1;P2_4=1;}//å½“æ°´ä½ï¼ˆå‹åŠ›ï¼‰é«˜äºæ­£å¸¸æ°´ä½æ—¶ï¼Œç»¿ç¯äº®
  50   2          }
  51   1      }
C51 COMPILER V9.54   WATER_LEVEL                                                           05/02/2023 15:26:33 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    227    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
